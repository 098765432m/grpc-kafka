syntax = "proto3";

option go_package = "gen-proto/hotel_pb;hotel_pb";

service HotelService {
    rpc GetHotelById(GetHotelByIdRequest) returns (GetHotelByIdResponse);
    rpc CreateHotel(CreateHotelRequest) returns (CreateHotelResponse);
    rpc GetAllHotels(GetAllHotelsRequest) returns (GetAllHotelsResponse);
    rpc GetHotelsByAddress(GetHotelsByAddressRequest) returns (GetHotelsByAddressResponse);
    rpc FilterHotels(FilterHotelsRequest) returns (FilterHotelsResponse);
}

message Hotel {
    string id = 1;
    string name = 2;
    string address = 3;
}

message GetHotelByIdRequest {
    string id = 1;
}

message GetHotelByIdResponse {
    Hotel hotel = 1;
}

message CreateHotelRequest {
    string name = 1;
    string address = 2;
}

message CreateHotelResponse {
}

message GetAllHotelsRequest {
}

message GetAllHotelsResponse {
    repeated Hotel hotels = 1;
}

message GetHotelsByAddressRequest{
    string address = 1;
    string hotel_name = 2;
}

message GetHotelsByAddressResponse{
    repeated string hotel_ids = 1;
}

message FilterHotelsRequest {
    repeated string room_type_ids = 1;
    int32 min_price = 2;
    int32 max_price = 3;
}

message FilterHotelRow {
    string hotel_id = 1;
    string min_price = 2;
}

message FilterHotelsResponse {
    repeated FilterHotelRow filter_hotel_rows = 1;
}