syntax = "proto3";

option go_package = "gen-proto/room_pb;room_pb";

service RoomService {
    rpc GetRoomById(GetRoomByIdRequest) returns (GetRoomByIdResponse);
    rpc GetRoomsByRoomTypeId(GetRoomsByRoomTypeIdRequest) returns (GetRoomsByRoomTypeIdResponse);
    rpc GetRoomsByHotelId(GetRoomsByHotelIdRequest) returns (GetRoomsByHotelIdResponse);
    rpc GetNumberOfRoomsPerRoomTypeByHotelIds(GetNumberOfRoomsPerRoomTypeByHotelIdsRequest) returns (GetNumberOfRoomsPerRoomTypeByHotelIdsResponse);
    rpc GetListOfAvailableRoomsByRoomTypeId(GetListOfAvailableRoomsByRoomTypeIdRequest) returns (GetListOfAvailableRoomsByRoomTypeIdResponse);
    rpc GetListOfRemainRooms(GetListOfRemainRoomsRequest) returns (GetListOfRemainRoomsResponse);
    rpc CreateRoom(CreateRoomRequest) returns (CreateRoomResponse);
    rpc SetOccupiedStatusToRooms(SetOccupiedStatusToRoomsRequest) returns (SetOccupiedStatusToRoomsResponse);
}

message Room {
    string id = 1;
    string name = 2;
    string status = 3;
    string room_type_id = 4;
    string hotel_id = 5;
}

message GetRoomByIdRequest {
    string id = 1;    
}

message GetRoomByIdResponse {
    Room room = 1;
}

message GetRoomsByRoomTypeIdRequest {
    string room_type_id = 1;
}

message GetRoomsByRoomTypeIdResponse {
    repeated Room rooms = 1;
    
}

message GetRoomsByHotelIdRequest {
    string hotel_id = 1;
}

message GetRoomsByHotelIdResponse {
    repeated Room rooms = 1;
    
}

message GetNumberOfRoomsPerRoomTypeByHotelIdsRequest{
    repeated string hotel_ids = 1;
}

message GetNumberOfRoomsPerRoomTypeByHotelIdsRow {
    string room_type_id = 1;
    int32 number_of_rooms = 2;
}

message GetNumberOfRoomsPerRoomTypeByHotelIdsResponse{
    repeated GetNumberOfRoomsPerRoomTypeByHotelIdsRow results = 1;
}

message GetListOfAvailableRoomsByRoomTypeIdRequest {
    string room_type_id = 1;
    int32 number_of_rooms = 2;
}

message GetListOfAvailableRoomsByRoomTypeIdResponse {
    repeated string room_ids = 1;
}

message GetListOfRemainRoomsRequest{
    string room_type_id = 1;
    int32 number_of_rooms = 2;
    repeated string booked_room_ids = 3;
}

message GetListOfRemainRoomsResponse{
    repeated string room_ids = 1;
}

message CreateRoomRequest{
    string name = 1;
    string status = 2;
    string room_type_id = 3;
    string hotel_id = 4;
}

message CreateRoomResponse{}

message SetOccupiedStatusToRoomsRequest {
    repeated string room_ids = 1;
}

message SetOccupiedStatusToRoomsResponse {

}